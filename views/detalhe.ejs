<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title><%= livro.nome %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body style="background: linear-gradient(135deg, #ad7b4f, #6e320f); min-height: 100vh;" class="container py-5">

  <h1 class="text-center mb-4 text-white"><%= livro.nome %></h1>

  <div class="card mx-auto sombra" style="max-width: 480px;">
    
    <img src="<%= livro.capa %>" class="card-img-top">

    <div class="card-body">
      <h3 class="fw-bold"><%= livro.nome %></h3>

      <p><strong>Autor:</strong> <%= livro.autor %></p>
      <p><strong>Categoria:</strong> <%= livro.categoria %></p>

      <hr>

      <h4 class="mt-3">Alugar este livro</h4>

      <% if (!livro.alugado) { %>

        <p class="text-success"><strong>Disponível para aluguel!</strong></p>

        <form action="/alugar/<%= livro.id %>" method="POST" class="mt-3">
          <label class="fw-bold">Dias de aluguel:</label>
          <input type="number" name="dias" class="form-control" min="1" max="30" required>

          <button class="btn btn-dark w-100 mt-3">Confirmar Aluguel</button>
        </form>

      <% } else { %>

        <p class="text-danger"><strong>Livro atualmente alugado.</strong></p>
        <p>Alugado por: <%= livro.usuarioAlugou %></p>
        <p>Devolução prevista em: <%= livro.dataDevolucao %></p>

      <% } %>

      <button onclick="history.back()" class="btn btn-secondary w-100 mt-4">Voltar</button>

    </div> <!-- FECHAMENTO DO CARD-BODY -->

  </div> <!-- FECHAMENTO DO CARD -->

</body>
</html>
